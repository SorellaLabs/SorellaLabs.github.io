<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Top module for bit vectors."><title>sucds::bit_vectors - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="sucds" data-themes="" data-resource-suffix="" data-rustdoc-version="1.78.0-nightly (b11fbfbf3 2024-02-03)" data-channel="nightly" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-4c98445ec4002617.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../sucds/index.html">sucds</a><span class="version">0.8.1</span></h2></div><h2 class="location"><a href="#">Module bit_vectors</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#traits">Traits</a></li></ul></section><h2><a href="../index.html">In crate sucds</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../sucds/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">sucds</a>::<wbr><a class="mod" href="#">bit_vectors</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/sucds/bit_vectors.rs.html#1-174">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Top module for bit vectors.</p>
<h2 id="introduction"><a class="doc-anchor" href="#introduction">§</a>Introduction</h2>
<p>Bit vectors and operations on them are fundamental to succinct data structures.</p>
<p>Let $<code>S \subseteq \{ 0,1,\dots,u-1 \}</code>$ be a set of positions
at which bits are set in a bit vector of length $<code>u</code>$.
Our bit vectors support the following queries:</p>
<ul>
<li>$<code>\textrm{Access}(i)</code>$ returns <code>true</code> if $<code>i \in S</code>$ or <code>false</code> otherwise (implemented by <a href="trait.Access.html" title="trait sucds::bit_vectors::Access"><code>Access</code></a>).</li>
<li>$<code>\textrm{Rank}(i)</code>$ returns the cardinality of $<code>\{ x \in S \mid x &lt; i \}</code>$ (implemented by <a href="trait.Rank.html" title="trait sucds::bit_vectors::Rank"><code>Rank</code></a>).</li>
<li>$<code>\textrm{Select}(k)</code>$ returns the $<code>k</code>$-th smallest position in $<code>S</code>$ (implemented by <a href="trait.Select.html" title="trait sucds::bit_vectors::Select"><code>Select</code></a>).</li>
<li>$<code>\textrm{Update}(i)</code>$ inserts/removes $<code>i</code>$ to/from $<code>S</code>$.</li>
</ul>
<p>Note that they are not limited depending on data structures.</p>
<h2 id="data-structures"><a class="doc-anchor" href="#data-structures">§</a>Data structures</h2>
<p>Let $<code>n</code>$ be the number of positions (i.e., $<code>n = |S|</code>$).
The implementations provided in this crate are summarized below:</p>
<div><table><thead><tr><th>Implementations</th><th style="text-align: center"><a href="trait.Access.html" title="trait sucds::bit_vectors::Access">Access</a></th><th style="text-align: center"><a href="trait.Rank.html" title="trait sucds::bit_vectors::Rank">Rank</a></th><th style="text-align: center"><a href="trait.Select.html" title="trait sucds::bit_vectors::Select">Select</a></th><th style="text-align: center">Update</th><th style="text-align: center">Memory (bits)</th></tr></thead><tbody>
<tr><td><a href="bit_vector/struct.BitVector.html" title="struct sucds::bit_vectors::bit_vector::BitVector"><code>BitVector</code></a></td><td style="text-align: center">$<code>O(1)</code>$</td><td style="text-align: center">$<code>O(u)</code>$</td><td style="text-align: center">$<code>O(u)</code>$</td><td style="text-align: center">$<code>O(1)</code>$</td><td style="text-align: center">$<code>u</code>$</td></tr>
<tr><td><a href="rank9sel/struct.Rank9Sel.html" title="struct sucds::bit_vectors::rank9sel::Rank9Sel"><code>Rank9Sel</code></a></td><td style="text-align: center">$<code>O(1)</code>$</td><td style="text-align: center">$<code>O(1)</code>$</td><td style="text-align: center">$<code>O(\lg u)</code>$</td><td style="text-align: center">–</td><td style="text-align: center">$<code>u + o(u)</code>$</td></tr>
<tr><td><a href="darray/struct.DArray.html" title="struct sucds::bit_vectors::darray::DArray"><code>DArray</code></a></td><td style="text-align: center">$<code>O(1)</code>$</td><td style="text-align: center">$<code>O(1)</code>$</td><td style="text-align: center">$<code>O(1)</code>$</td><td style="text-align: center">–</td><td style="text-align: center">$<code>u + o(u)</code>$</td></tr>
<tr><td><a href="sarray/struct.SArray.html" title="struct sucds::bit_vectors::sarray::SArray"><code>SArray</code></a></td><td style="text-align: center">$<code>O(\lg n)</code>$</td><td style="text-align: center">$<code>O(\lg \frac{u}{n})</code>$</td><td style="text-align: center">$<code>O(1)</code>$</td><td style="text-align: center">–</td><td style="text-align: center">$<code>n \lceil \lg \frac{u}{n} \rceil + 2n + o(n)</code>$</td></tr>
</tbody></table>
</div><h3 id="plain-bit-vectors-without-index"><a class="doc-anchor" href="#plain-bit-vectors-without-index">§</a>Plain bit vectors without index</h3>
<p><a href="bit_vector/struct.BitVector.html" title="struct sucds::bit_vectors::bit_vector::BitVector"><code>BitVector</code></a> is a plain format without index and the only mutable data structure.</p>
<p>All search queries are performed by linear scan in $<code>O(u)</code>$ time,
although they are quickly computed in word units using bit-parallelism techniques.</p>
<h3 id="plain-bit-vectors-with-index"><a class="doc-anchor" href="#plain-bit-vectors-with-index">§</a>Plain bit vectors with index</h3>
<p><a href="rank9sel/struct.Rank9Sel.html" title="struct sucds::bit_vectors::rank9sel::Rank9Sel"><code>Rank9Sel</code></a> and <a href="darray/struct.DArray.html" title="struct sucds::bit_vectors::darray::DArray"><code>DArray</code></a> are index structures for faster queries built on <a href="bit_vector/struct.BitVector.html" title="struct sucds::bit_vectors::bit_vector::BitVector"><code>BitVector</code></a>.</p>
<p><a href="rank9sel/struct.Rank9Sel.html" title="struct sucds::bit_vectors::rank9sel::Rank9Sel"><code>Rank9Sel</code></a> is an implementation of Vigna’s Rank9 and hinted selection techniques, supporting
constant-time Rank and logarithmic-time Select queries.</p>
<p><a href="darray/struct.DArray.html" title="struct sucds::bit_vectors::darray::DArray"><code>DArray</code></a> is a constant-time Select data structure by Okanohara and Sadakane.
If you need only Select queries on dense sets (i.e., $<code>n/u \approx 0.5</code>$), this will be the most candidate.
If your bit vector is a very sparse set (i.e., $<code>n \ll u</code>$), use <a href="sarray/struct.SArray.html" title="struct sucds::bit_vectors::sarray::SArray"><code>SArray</code></a> described below.
Rank/Predecessor/Successor queries are optionally enabled using the <a href="rank9sel/struct.Rank9Sel.html" title="struct sucds::bit_vectors::rank9sel::Rank9Sel"><code>Rank9Sel</code></a> index.
<a href="darray/struct.DArray.html" title="struct sucds::bit_vectors::darray::DArray"><code>DArray</code></a> outperforms <a href="rank9sel/struct.Rank9Sel.html" title="struct sucds::bit_vectors::rank9sel::Rank9Sel"><code>Rank9Sel</code></a> in complexity, but the practical space overhead of <a href="darray/struct.DArray.html" title="struct sucds::bit_vectors::darray::DArray"><code>DArray</code></a> can be larger.</p>
<h3 id="very-sparse-bit-vectors"><a class="doc-anchor" href="#very-sparse-bit-vectors">§</a>Very sparse bit vectors</h3>
<p><a href="sarray/struct.SArray.html" title="struct sucds::bit_vectors::sarray::SArray"><code>SArray</code></a> is a data structure that allows us to store very sparse sets (i.e., $<code>n \ll u</code>$)
in compressed space, while supporting quick queries.
This is a specialized wrapper of <a href="../mii_sequences/elias_fano/struct.EliasFano.html" title="struct sucds::mii_sequences::elias_fano::EliasFano"><code>EliasFano</code></a>.</p>
<h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2>
<p>This module provides several traits for essential behaviors,
allowing to compare our bit vectors as components in your data structures.
<a href="prelude/index.html" title="mod sucds::bit_vectors::prelude"><code>prelude</code></a> allows you to import them easily.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>sucds::bit_vectors::{Rank9Sel, prelude::<span class="kw-2">*</span>};

<span class="kw">let </span>bv = Rank9Sel::build_from_bits(
    [<span class="bool-val">true</span>, <span class="bool-val">false</span>, <span class="bool-val">false</span>, <span class="bool-val">true</span>],
    <span class="bool-val">true</span>, <span class="comment">// Enables rank1/0
    </span><span class="bool-val">true</span>, <span class="comment">// Enables select1
    </span><span class="bool-val">true  </span><span class="comment">// Enables select0
</span>)<span class="question-mark">?</span>;

<span class="macro">assert_eq!</span>(bv.num_bits(), <span class="number">4</span>);
<span class="macro">assert_eq!</span>(bv.num_ones(), <span class="number">2</span>);

<span class="macro">assert_eq!</span>(bv.access(<span class="number">1</span>), <span class="prelude-val">Some</span>(<span class="bool-val">false</span>));

<span class="macro">assert_eq!</span>(bv.rank1(<span class="number">1</span>), <span class="prelude-val">Some</span>(<span class="number">1</span>));
<span class="macro">assert_eq!</span>(bv.rank0(<span class="number">1</span>), <span class="prelude-val">Some</span>(<span class="number">0</span>));

<span class="macro">assert_eq!</span>(bv.select1(<span class="number">1</span>), <span class="prelude-val">Some</span>(<span class="number">3</span>));
<span class="macro">assert_eq!</span>(bv.select0(<span class="number">0</span>), <span class="prelude-val">Some</span>(<span class="number">1</span>));</code></pre></div>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.BitVector"><code>pub use bit_vector::<a class="struct" href="bit_vector/struct.BitVector.html" title="struct sucds::bit_vectors::bit_vector::BitVector">BitVector</a>;</code></div></li><li><div class="item-name" id="reexport.DArray"><code>pub use darray::<a class="struct" href="darray/struct.DArray.html" title="struct sucds::bit_vectors::darray::DArray">DArray</a>;</code></div></li><li><div class="item-name" id="reexport.Rank9Sel"><code>pub use rank9sel::<a class="struct" href="rank9sel/struct.Rank9Sel.html" title="struct sucds::bit_vectors::rank9sel::Rank9Sel">Rank9Sel</a>;</code></div></li><li><div class="item-name" id="reexport.SArray"><code>pub use sarray::<a class="struct" href="sarray/struct.SArray.html" title="struct sucds::bit_vectors::sarray::SArray">SArray</a>;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="bit_vector/index.html" title="mod sucds::bit_vectors::bit_vector">bit_vector</a></div><div class="desc docblock-short">Updatable bit vector in a plain format, supporting some utilities such as chunking and predecessor queries.</div></li><li><div class="item-name"><a class="mod" href="darray/index.html" title="mod sucds::bit_vectors::darray">darray</a></div><div class="desc docblock-short">Constant-time select data structure over integer sets with the dense array technique.</div></li><li><div class="item-name"><a class="mod" href="prelude/index.html" title="mod sucds::bit_vectors::prelude">prelude</a></div><div class="desc docblock-short">The prelude for bit vectors.</div></li><li><div class="item-name"><a class="mod" href="rank9sel/index.html" title="mod sucds::bit_vectors::rank9sel">rank9sel</a></div><div class="desc docblock-short">Rank/select data structure over bit vectors with Vigna’s rank9 and hinted selection techniques.</div></li><li><div class="item-name"><a class="mod" href="sarray/index.html" title="mod sucds::bit_vectors::sarray">sarray</a></div><div class="desc docblock-short">Rank/Select data structure over very sparse bit vectors using the Elias-Fano scheme.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Access.html" title="trait sucds::bit_vectors::Access">Access</a></div><div class="desc docblock-short">Interface for accessing elements on bit arrays.</div></li><li><div class="item-name"><a class="trait" href="trait.Build.html" title="trait sucds::bit_vectors::Build">Build</a></div><div class="desc docblock-short">Interface for building a bit vector with rank/select queries.</div></li><li><div class="item-name"><a class="trait" href="trait.NumBits.html" title="trait sucds::bit_vectors::NumBits">NumBits</a></div><div class="desc docblock-short">Interface for reporting basic statistics in a bit vector.</div></li><li><div class="item-name"><a class="trait" href="trait.Rank.html" title="trait sucds::bit_vectors::Rank">Rank</a></div><div class="desc docblock-short">Interface for rank queries on bit vectors.</div></li><li><div class="item-name"><a class="trait" href="trait.Select.html" title="trait sucds::bit_vectors::Select">Select</a></div><div class="desc docblock-short">Interface for select queries on bit vectors.</div></li></ul></section></div></main></body></html>