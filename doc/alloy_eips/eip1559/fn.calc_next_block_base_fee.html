<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Calculate the base fee for the next block based on the EIP-1559 specification."><title>calc_next_block_base_fee in alloy_eips::eip1559 - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="alloy_eips" data-themes="" data-resource-suffix="" data-rustdoc-version="1.78.0-nightly (b11fbfbf3 2024-02-03)" data-channel="nightly" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-4c98445ec4002617.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="icon" href="https://raw.githubusercontent.com/alloy-rs/core/main/assets/favicon.ico"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../alloy_eips/index.html"><img src="https://raw.githubusercontent.com/alloy-rs/core/main/assets/alloy.jpg" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../alloy_eips/index.html"><img src="https://raw.githubusercontent.com/alloy-rs/core/main/assets/alloy.jpg" alt="logo"></a><h2><a href="../../alloy_eips/index.html">alloy_eips</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In alloy_eips::eip1559</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../alloy_eips/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../index.html">alloy_eips</a>::<wbr><a href="index.html">eip1559</a>::<wbr><a class="fn" href="#">calc_next_block_base_fee</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/alloy_eips/eip1559/helpers.rs.html#26-62">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub fn calc_next_block_base_fee(
    gas_used: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    gas_limit: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    base_fee: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    base_fee_params: <a class="struct" href="struct.BaseFeeParams.html" title="struct alloy_eips::eip1559::BaseFeeParams">BaseFeeParams</a>
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Calculate the base fee for the next block based on the EIP-1559 specification.</p>
<p>This function calculates the base fee for the next block according to the rules defined in the
EIP-1559. EIP-1559 introduces a new transaction pricing mechanism that includes a
fixed-per-block network fee that is burned and dynamically adjusts block sizes to handlez
transient congestion.</p>
<p>For each block, the base fee per gas is determined by the gas used in the parent block and the
target gas (the block gas limit divided by the elasticity multiplier). The algorithm increases
the base fee when blocks are congested and decreases it when they are under the target gas
usage. The base fee per gas is always burned.</p>
<p>Parameters:</p>
<ul>
<li><code>gas_used</code>: The gas used in the current block.</li>
<li><code>gas_limit</code>: The gas limit of the current block.</li>
<li><code>base_fee</code>: The current base fee per gas.</li>
<li><code>base_fee_params</code>: Base fee parameters such as elasticity multiplier and max change
denominator.</li>
</ul>
<p>Returns:
The calculated base fee for the next block as a <code>u64</code>.</p>
<p>For more information, refer to the <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1559.md">EIP-1559 spec</a>.</p>
</div></details></section></div></main></body></html>