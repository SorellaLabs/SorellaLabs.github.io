<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Tables and data models."><title>reth_db::tables - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="reth_db" data-themes="" data-resource-suffix="" data-rustdoc-version="1.78.0-nightly (b11fbfbf3 2024-02-03)" data-channel="nightly" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-4c98445ec4002617.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="icon" href="https://avatars0.githubusercontent.com/u/97369466?s=256"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../reth_db/index.html"><img src="https://raw.githubusercontent.com/paradigmxyz/reth/main/assets/reth-docs.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../reth_db/index.html"><img src="https://raw.githubusercontent.com/paradigmxyz/reth/main/assets/reth-docs.png" alt="logo"></a><h2><a href="../../reth_db/index.html">reth_db</a><span class="version">0.1.0-alpha.17</span></h2></div><h2 class="location"><a href="#">Module tables</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Aliases</a></li></ul></section><h2><a href="../index.html">In crate reth_db</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../reth_db/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">reth_db</a>::<wbr><a class="mod" href="#">tables</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/reth_db/tables/mod.rs.html#1-505">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Tables and data models.</p>
<h2 id="overview"><a class="doc-anchor" href="#overview">§</a>Overview</h2>
<p>This module defines the tables in reth, as well as some table-related abstractions:</p>
<ul>
<li><a href="codecs/index.html" title="mod reth_db::tables::codecs"><code>codecs</code></a> integrates different codecs into <a href="../abstraction/table/trait.Encode.html" title="trait reth_db::abstraction::table::Encode"><code>Encode</code></a> and
<a href="../abstraction/table/trait.Decode.html" title="trait reth_db::abstraction::table::Decode"><code>Decode</code></a></li>
<li><a href="models/index.html" title="mod reth_db::tables::models"><code>models</code></a> defines the values written to tables</li>
</ul>
<h2 id="database-tour"><a class="doc-anchor" href="#database-tour">§</a>Database Tour</h2>
<p>TODO(onbjerg): Find appropriate format for this…</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="codecs/index.html" title="mod reth_db::tables::codecs">codecs</a></div><div class="desc docblock-short">Integrates different codecs into <code>table::Encode</code> and <code>table::Decode</code>.</div></li><li><div class="item-name"><a class="mod" href="models/index.html" title="mod reth_db::tables::models">models</a></div><div class="desc docblock-short">Implements data structures specific to the database</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AccountChangeSet.html" title="struct reth_db::tables::AccountChangeSet">AccountChangeSet</a></div><div class="desc docblock-short">Stores the state of an account before a certain transaction changed it.
Change on state can be: account is created, selfdestructed, touched while empty
or changed (balance,nonce).</div></li><li><div class="item-name"><a class="struct" href="struct.AccountHistory.html" title="struct reth_db::tables::AccountHistory">AccountHistory</a></div><div class="desc docblock-short">Stores pointers to block changeset with changes for each account key.</div></li><li><div class="item-name"><a class="struct" href="struct.AccountsTrie.html" title="struct reth_db::tables::AccountsTrie">AccountsTrie</a></div><div class="desc docblock-short">Stores the current state’s Merkle Patricia Tree.</div></li><li><div class="item-name"><a class="struct" href="struct.BlockBodyIndices.html" title="struct reth_db::tables::BlockBodyIndices">BlockBodyIndices</a></div><div class="desc docblock-short">Stores block indices that contains indexes of transaction and the count of them.</div></li><li><div class="item-name"><a class="struct" href="struct.BlockOmmers.html" title="struct reth_db::tables::BlockOmmers">BlockOmmers</a></div><div class="desc docblock-short">Stores the uncles/ommers of the block.</div></li><li><div class="item-name"><a class="struct" href="struct.BlockWithdrawals.html" title="struct reth_db::tables::BlockWithdrawals">BlockWithdrawals</a></div><div class="desc docblock-short">Stores the block withdrawals.</div></li><li><div class="item-name"><a class="struct" href="struct.Bytecodes.html" title="struct reth_db::tables::Bytecodes">Bytecodes</a></div><div class="desc docblock-short">Stores all smart contract bytecodes.
There will be multiple accounts that have same bytecode
So we would need to introduce reference counter.
This will be small optimization on state.</div></li><li><div class="item-name"><a class="struct" href="struct.CanonicalHeaders.html" title="struct reth_db::tables::CanonicalHeaders">CanonicalHeaders</a></div><div class="desc docblock-short">Stores the header hashes belonging to the canonical chain.</div></li><li><div class="item-name"><a class="struct" href="struct.HashedAccount.html" title="struct reth_db::tables::HashedAccount">HashedAccount</a></div><div class="desc docblock-short">Stores the current state of an <a href="../../reth_primitives/account/struct.Account.html" title="struct reth_primitives::account::Account"><code>Account</code></a> indexed with <code>keccak256(Address)</code>
This table is in preparation for merkelization and calculation of state root.
We are saving whole account data as it is needed for partial update when
part of storage is changed. Benefit for merkelization is that hashed addresses are sorted.</div></li><li><div class="item-name"><a class="struct" href="struct.HashedStorage.html" title="struct reth_db::tables::HashedStorage">HashedStorage</a></div><div class="desc docblock-short">Stores the current storage values indexed with <code>keccak256(Address)</code> and
hash of storage key <code>keccak256(key)</code>.
This table is in preparation for merkelization and calculation of state root.
Benefit for merklization is that hashed addresses/keys are sorted.</div></li><li><div class="item-name"><a class="struct" href="struct.HeaderNumbers.html" title="struct reth_db::tables::HeaderNumbers">HeaderNumbers</a></div><div class="desc docblock-short">Stores the block number corresponding to a header.</div></li><li><div class="item-name"><a class="struct" href="struct.HeaderTD.html" title="struct reth_db::tables::HeaderTD">HeaderTD</a></div><div class="desc docblock-short">Stores the total difficulty from a block header.</div></li><li><div class="item-name"><a class="struct" href="struct.Headers.html" title="struct reth_db::tables::Headers">Headers</a></div><div class="desc docblock-short">Stores header bodies.</div></li><li><div class="item-name"><a class="struct" href="struct.PlainAccountState.html" title="struct reth_db::tables::PlainAccountState">PlainAccountState</a></div><div class="desc docblock-short">Stores the current state of an <a href="../../reth_primitives/account/struct.Account.html" title="struct reth_primitives::account::Account"><code>Account</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.PlainStorageState.html" title="struct reth_db::tables::PlainStorageState">PlainStorageState</a></div><div class="desc docblock-short">Stores the current value of a storage key.</div></li><li><div class="item-name"><a class="struct" href="struct.PruneCheckpoints.html" title="struct reth_db::tables::PruneCheckpoints">PruneCheckpoints</a></div><div class="desc docblock-short">Stores the highest pruned block number and prune mode of each prune segment.</div></li><li><div class="item-name"><a class="struct" href="struct.RawDupSort.html" title="struct reth_db::tables::RawDupSort">RawDupSort</a></div><div class="desc docblock-short">Raw DupSort table that can be used to access any table and its data in raw mode.
This is useful for delayed decoding/encoding of data.</div></li><li><div class="item-name"><a class="struct" href="struct.RawKey.html" title="struct reth_db::tables::RawKey">RawKey</a></div><div class="desc docblock-short">Raw table key.</div></li><li><div class="item-name"><a class="struct" href="struct.RawTable.html" title="struct reth_db::tables::RawTable">RawTable</a></div><div class="desc docblock-short">Raw table that can be used to access any table and its data in raw mode.
This is useful for delayed decoding/encoding of data.</div></li><li><div class="item-name"><a class="struct" href="struct.RawValue.html" title="struct reth_db::tables::RawValue">RawValue</a></div><div class="desc docblock-short">Raw table value.</div></li><li><div class="item-name"><a class="struct" href="struct.Receipts.html" title="struct reth_db::tables::Receipts">Receipts</a></div><div class="desc docblock-short">(Canonical only) Stores transaction receipts.</div></li><li><div class="item-name"><a class="struct" href="struct.StorageChangeSet.html" title="struct reth_db::tables::StorageChangeSet">StorageChangeSet</a></div><div class="desc docblock-short">Stores the state of a storage key before a certain transaction changed it.
If <a href="../../reth_primitives/storage/struct.StorageEntry.html#structfield.value" title="field reth_primitives::storage::StorageEntry::value"><code>StorageEntry::value</code></a> is zero, this means storage was not existing
and needs to be removed.</div></li><li><div class="item-name"><a class="struct" href="struct.StorageHistory.html" title="struct reth_db::tables::StorageHistory">StorageHistory</a></div><div class="desc docblock-short">Stores pointers to block number changeset with changes for each storage key.</div></li><li><div class="item-name"><a class="struct" href="struct.StoragesTrie.html" title="struct reth_db::tables::StoragesTrie">StoragesTrie</a></div><div class="desc docblock-short">From HashedAddress =&gt; NibblesSubKey =&gt; Intermediate value</div></li><li><div class="item-name"><a class="struct" href="struct.SyncStage.html" title="struct reth_db::tables::SyncStage">SyncStage</a></div><div class="desc docblock-short">Stores the highest synced block number and stage-specific checkpoint of each stage.</div></li><li><div class="item-name"><a class="struct" href="struct.SyncStageProgress.html" title="struct reth_db::tables::SyncStageProgress">SyncStageProgress</a></div><div class="desc docblock-short">Stores arbitrary data to keep track of a stage first-sync progress.</div></li><li><div class="item-name"><a class="struct" href="struct.TransactionBlock.html" title="struct reth_db::tables::TransactionBlock">TransactionBlock</a></div><div class="desc docblock-short">Stores the mapping of transaction number to the blocks number.</div></li><li><div class="item-name"><a class="struct" href="struct.Transactions.html" title="struct reth_db::tables::Transactions">Transactions</a></div><div class="desc docblock-short">(Canonical only) Stores the transaction body for canonical transactions.</div></li><li><div class="item-name"><a class="struct" href="struct.TxHashNumber.html" title="struct reth_db::tables::TxHashNumber">TxHashNumber</a></div><div class="desc docblock-short">Stores the mapping of the transaction hash to the transaction number.</div></li><li><div class="item-name"><a class="struct" href="struct.TxSenders.html" title="struct reth_db::tables::TxSenders">TxSenders</a></div><div class="desc docblock-short">Stores the transaction sender for each canonical transaction.
It is needed to speed up execution stage and allows fetching signer without doing
transaction signed recovery</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.TableType.html" title="enum reth_db::tables::TableType">TableType</a></div><div class="desc docblock-short">Enum for the types of tables present in libmdbx.</div></li><li><div class="item-name"><a class="enum" href="enum.Tables.html" title="enum reth_db::tables::Tables">Tables</a></div><div class="desc docblock-short">Default tables that should be present inside database.</div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.NUM_TABLES.html" title="constant reth_db::tables::NUM_TABLES">NUM_TABLES</a></div><div class="desc docblock-short">Number of tables that should be present inside database.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.TableViewer.html" title="trait reth_db::tables::TableViewer">TableViewer</a></div><div class="desc docblock-short">The general purpose of this is to use with a combination of Tables enum,
by implementing a <code>TableViewer</code> trait you can operate on db tables in an abstract way.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.BlockNumberList.html" title="type reth_db::tables::BlockNumberList">BlockNumberList</a></div><div class="desc docblock-short">Alias Types
List with transaction numbers.</div></li><li><div class="item-name"><a class="type" href="type.StageId.html" title="type reth_db::tables::StageId">StageId</a></div><div class="desc docblock-short">Encoded stage id.</div></li><li><div class="item-name"><a class="type" href="type.TableRawRow.html" title="type reth_db::tables::TableRawRow">TableRawRow</a></div><div class="desc docblock-short">Tuple with <code>RawKey&lt;T::Key&gt;</code> and <code>RawValue&lt;T::Value&gt;</code>.</div></li></ul></section></div></main></body></html>