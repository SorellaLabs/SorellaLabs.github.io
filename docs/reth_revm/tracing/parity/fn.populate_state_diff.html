<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Loops over all state accounts in the accounts diff that contains all accounts that are included in the ExecutionResult state map and compares the balance and nonce against what’s in the `db`, which should point to the beginning of the transaction."><title>populate_state_diff in reth_revm::tracing::parity - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-e883e87179a81222.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="reth_revm" data-themes="" data-resource-suffix="" data-rustdoc-version="1.76.0-nightly (de686cbc6 2023-12-14)" data-channel="nightly" data-search-js="search-874d56868bf05518.js" data-settings-js="settings-fe03fdc259827cd2.js" ><script src="../../../static.files/storage-bc37acceda91d44a.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-77dede896d6ac08e.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="icon" href="https://avatars0.githubusercontent.com/u/97369466?s=256"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../reth_revm/index.html"><img src="https://raw.githubusercontent.com/paradigmxyz/reth/main/assets/reth-docs.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../reth_revm/index.html"><img src="https://raw.githubusercontent.com/paradigmxyz/reth/main/assets/reth-docs.png" alt="logo"></a><h2><a href="../../../reth_revm/index.html">reth_revm</a><span class="version">0.1.0-alpha.14</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In reth_revm::tracing::parity</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../../index.html">reth_revm</a>::<wbr><a href="../index.html">tracing</a>::<wbr><a href="index.html">parity</a>::<wbr><a class="fn" href="#">populate_state_diff</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/revm_inspectors/tracing/builder/parity.rs.html#489-496">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub fn populate_state_diff&lt;'a, DB, I&gt;(
    state_diff: &amp;mut <a class="struct" href="../../../alloy_rpc_trace_types/parity/struct.StateDiff.html" title="struct alloy_rpc_trace_types::parity::StateDiff">StateDiff</a>,
    db: DB,
    account_diffs: I
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, &lt;DB as <a class="trait" href="../../precompile/primitives/db/trait.DatabaseRef.html" title="trait reth_revm::precompile::primitives::db::DatabaseRef">DatabaseRef</a>&gt;::<a class="associatedtype" href="../../precompile/primitives/db/trait.DatabaseRef.html#associatedtype.Error" title="type reth_revm::precompile::primitives::db::DatabaseRef::Error">Error</a>&gt;<div class="where">where
    I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = (&amp;'a <a class="struct" href="../../precompile/struct.Address.html" title="struct reth_revm::precompile::Address">Address</a>, &amp;'a <a class="struct" href="../../precompile/primitives/struct.Account.html" title="struct reth_revm::precompile::primitives::Account">Account</a>)&gt;,
    DB: <a class="trait" href="../../precompile/primitives/db/trait.DatabaseRef.html" title="trait reth_revm::precompile::primitives::db::DatabaseRef">DatabaseRef</a>,</div></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Loops over all state accounts in the accounts diff that contains all accounts that are included
in the <a href="../../precompile/primitives/enum.ExecutionResult.html" title="enum reth_revm::precompile::primitives::ExecutionResult">ExecutionResult</a> state map and compares the balance and nonce against what’s in the
<code>db</code>, which should point to the beginning of the transaction.</p>
<p>It’s expected that <code>DB</code> is a revm <a href="../../precompile/primitives/db/trait.Database.html" title="trait reth_revm::precompile::primitives::db::Database">Database</a> which at this point already
contains all the accounts that are in the state map and never has to fetch them from disk.</p>
</div></details></section></div></main></body></html>