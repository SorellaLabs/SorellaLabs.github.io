<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="deprecate-until"><title>deprecate_until - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-e883e87179a81222.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="deprecate_until" data-themes="" data-resource-suffix="" data-rustdoc-version="1.76.0-nightly (de686cbc6 2023-12-14)" data-channel="nightly" data-search-js="search-874d56868bf05518.js" data-settings-js="settings-fe03fdc259827cd2.js" ><script src="../static.files/storage-bc37acceda91d44a.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-77dede896d6ac08e.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../deprecate_until/index.html">deprecate_until</a><span class="version">0.1.1</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#attributes">Attribute Macros</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">deprecate_until</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/deprecate_until/lib.rs.html#1-111">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="deprecate-until"><a href="#deprecate-until">deprecate-until</a></h2>
<p><a href="https://crates.io/crates/deprecate_until"><img src="https://img.shields.io/crates/v/deprecate_until.svg" alt="Current Version" /></a>
<a href="https://docs.rs/deprecate_until"><img src="https://docs.rs/deprecate_until/badge.svg" alt="Documentation" /></a>
<a href="#license"><img src="https://img.shields.io/crates/l/deprecate_until.svg" alt="License: Apache-2.0/MIT" /></a></p>
<p>This crate introduces a new <code>deprecate_until</code> attribute which helps
crate authors not to remove to delete obsolete items when some version
is reached. When the specified semver condition is verified, the crate
will not compile anymore and hopefully this will be caught by the CI
or by <code>cargo install</code> before the release actually happens.</p>
<h3 id="usage"><a href="#usage">Usage</a></h3>
<p>The <code>deprecate_until</code> attribute supports the same arguments as
<code>deprecate</code>, <em>i.e.</em>, <code>note</code> and <code>since</code>. It also requires a <code>remove</code>
argument, which is a <a href="https://semver.org/">semver</a> requirement
expression in a string.</p>
<h3 id="example"><a href="#example">Example</a></h3>
<p>The following code</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>deprecate_until::deprecate_until;

<span class="attr">#[deprecate_until(remove = <span class="string">"&gt;= 4.x"</span>, note = <span class="string">"use `some_new_function` instead"</span>)]
</span><span class="kw">fn </span>old_function() {
    <span class="macro">todo!</span>()
}</code></pre></div>
<p>will give a warning when version 3.8 of the crate is used in a project:</p>
<div class="example-wrap"><pre class="language-txt"><code>warning: use of deprecated function `old_function`: use `some_new_function` instead (removal scheduled for version &gt;= 4.x)
  |
4 | fn old_function() {
  |    ^^^^^^^^^^^^
</code></pre></div>
<p>It will also cause a compilation error in version 4.0.0 of the crate if you forgot to remove it:</p>
<div class="example-wrap"><pre class="language-txt"><code>error: version `4.0.0` matches `&gt;= 4.x`, item should be removed
  |
3 | #[deprecate_until(remove = &quot;&gt;= 4.x&quot;, note = &quot;use `some_new_function` instead&quot;)]
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
</code></pre></div></div></details><h2 id="attributes" class="section-header"><a href="#attributes">Attribute Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="attr" href="attr.deprecate_until.html" title="attr deprecate_until::deprecate_until">deprecate_until</a></div><div class="desc docblock-short">Similar to Rust <code>deprecated</code> attribute, with the addition of a mandatory
<code>remove</code> attribute argument which contains a semver requirement at which
the item must be definitely removed from the source code.</div></li></ul></section></div></main></body></html>